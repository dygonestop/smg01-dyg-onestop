<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">

    <!-- VIEWPORT FIX TABLET -->
    <meta name="viewport"
          content="width=device-width, height=device-height, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>dyg++ SECURE POS</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background: #0f172a;
            display: flex;
            justify-content: center;
            height: 100dvh;
            overflow: hidden;
        }

        .pos-container {
            width: 100%;
            max-width: 1100px;
            height: 100dvh;
            background: #F1F5F9;
            display: flex;
            flex-direction: column;
        }

        .main-content {
            display: flex;
            flex: 1;
            overflow: hidden;
        }

        .menu-side {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: #F8FAFC;
            border-right: 1px solid #e2e8f0;
            overflow: hidden;
        }

        .admin-side {
            width: 360px;
            display: flex;
            flex-direction: column;
            background: white;
            border-left: 2px solid #cbd5e1;
            height: 100%;
            overflow: hidden;
        }

        .scroll-area {
            flex: 1;
            overflow-y: auto;
            padding: 12px;
        }

        .sticky-bottom {
            background: #f8fafc;
            border-top: 4px solid #fff;
            position: sticky;
            bottom: 0;
            z-index: 50;
        }

        .collapse-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }

        .collapse-content.open {
            max-height: 500px;
            margin-bottom: 10px;
        }

        .swipe-handle {
            cursor: pointer;
            background: #1e293b;
            color: #fbbf24;
            text-align: center;
            font-size: 9px;
            padding: 6px;
            font-weight: 800;
            border-radius: 8px;
            margin-bottom: 5px;
        }

        .monitor-table td {
            padding: 2px 0;
            font-size: 10px;
            font-weight: bold;
        }

        .scroll-custom::-webkit-scrollbar {
            width: 4px;
        }

        .scroll-custom::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 10px;
        }

        /* =============================== */
        /* TABLET LANDSCAPE OPTIMIZATION */
        /* =============================== */
        @media (max-width: 1024px) {

            .pos-container {
                max-width: 100%;
            }

            .menu-side {
                flex: 1.15;
            }

            #menu-render {
                grid-template-columns: repeat(3, minmax(0, 1fr));
            }

            .admin-side {
                width: 360px;
            }

            .scroll-area {
                padding-bottom: 140px;
            }

            button {
                touch-action: manipulation;
            }
        }

        /* =============================== */
        /* TABLET PORTRAIT MODE */
        /* =============================== */
        @media (max-width: 820px) {

            .main-content {
                flex-direction: column;
            }

            .menu-side {
                height: 55%;
                border-right: none;
                border-bottom: 2px solid #e2e8f0;
            }

            .admin-side {
                width: 100%;
                height: 45%;
                border-left: none;
            }

            #menu-render {
                grid-template-columns: repeat(4, minmax(0, 1fr));
            }
        }
    </style>
</head>

<body>

<!-- ================= POS UI ================= -->

<div class="pos-container shadow-2xl">

    <!-- HEADER -->
    <div class="bg-[#1B4332] text-white p-3 flex justify-between items-center shrink-0">
        <h1 class="text-lg font-black italic tracking-tighter text-emerald-400">
            dyg++ <span class="text-white opacity-50 ml-2">POS SECURE</span>
        </h1>
        <div class="text-right">
            <p class="text-[8px] uppercase opacity-60">Fisik Laci (Sistem)</p>
            <p id="v-cash" class="text-lg font-black text-emerald-400">Rp 0</p>
        </div>
    </div>

    <div class="main-content">

        <!-- MENU -->
        <div class="menu-side overflow-y-auto scroll-custom">
            <div class="p-2 border-b bg-white flex gap-2">
                <select id="cat-select" onchange="filterCat(this.value)"
                        class="flex-1 p-2 bg-slate-100 border rounded-lg text-[10px] font-black"></select>
                <input type="text" id="menuSearch" oninput="renderMenu()"
                       placeholder="Cari..."
                       class="w-32 p-2 bg-slate-100 border rounded-lg text-[10px] font-bold">
            </div>
            <div id="menu-render" class="grid grid-cols-4 gap-2 p-3"></div>
        </div>

        <!-- ADMIN -->
        <div class="admin-side">

            <div class="scroll-area space-y-3">

                <div onclick="toggleSwipe()" class="swipe-handle">
                    ðŸ“‚ KLIK UNTUK MONITOR & FINANCE OPERASIONAL
                </div>

                <div id="collapsible-section" class="collapse-content space-y-3">

                    <div class="bg-slate-900 text-white rounded-xl p-3 shadow-lg border-b-4 border-emerald-500">
                        <table class="w-full monitor-table text-[10px]">
                            <tr><td>Modal Awal</td><td id="m-modal" class="text-right text-blue-300">Rp 0</td></tr>
                            <tr><td>Cash Masuk</td><td id="m-cash" class="text-right text-emerald-400">Rp 0</td></tr>
                            <tr><td>Belanja/Out</td><td id="m-out" class="text-right text-red-400">- Rp 0</td></tr>
                            <tr><td>QRIS</td><td id="m-qris" class="text-right text-orange-400">Rp 0</td></tr>
                            <tr><td>Online Food</td><td id="m-online" class="text-right text-purple-400">Rp 0</td></tr>
                        </table>
                    </div>

                    <!-- SHIFT -->
                    <div class="bg-white p-2 rounded-xl border border-slate-300 space-y-2">
                        <div class="flex gap-1">
                            <input id="input-modal" type="number" placeholder="Modal"
                                   class="flex-1 p-1.5 bg-blue-50 border rounded text-[10px] font-bold">
                            <button onclick="handleShift('open')" id="btn-open-shift"
                                    class="bg-blue-600 text-white px-2 rounded font-black text-[9px]">BUKA</button>
                        </div>
                        <div class="flex gap-1">
                            <input id="input-closing" type="number" placeholder="Fisik"
                                   class="flex-1 p-1.5 bg-red-50 border rounded text-[10px] font-bold">
                            <button onclick="handleShift('close')" id="btn-close-shift"
                                    class="bg-red-600 text-white px-2 rounded font-black text-[9px]">TUTUP</button>
                        </div>
                    </div>

                    <!-- FINANCE -->
                    <div class="bg-white p-2 rounded-xl border border-slate-300 space-y-2">
                        <div class="flex gap-1">
                            <select id="f-type"
                                    class="flex-1 p-1.5 bg-slate-100 border rounded text-[9px] font-bold">
                                <option value="pengeluaran">ðŸ›’ BELANJA</option>
                                <option value="online_food">ðŸ›µ ONLINE FOOD</option>
                            </select>
                            <input id="f-amt" type="number" placeholder="Rp"
                                   class="w-20 p-1.5 border rounded text-[10px] font-black">
                        </div>
                        <input id="f-desc" type="text" placeholder="Keterangan..."
                               class="w-full p-1.5 border rounded text-[9px] font-bold">
                        <button onclick="confirmFinance()" id="btn-f"
                                class="w-full py-1.5 bg-slate-800 text-white rounded font-black text-[9px]">
                            SIMPAN FINANCE
                        </button>
                    </div>
                </div>

                <!-- MEMBER -->
                <div class="bg-emerald-50 p-3 rounded-xl border-2 border-emerald-300 space-y-2">
                    <p class="text-[10px] font-black text-emerald-800 uppercase">Loyalty Member</p>
                    <div class="flex gap-1">
                        <input id="m-hp" type="number" placeholder="No HP Member..."
                               class="flex-1 p-2 border-2 border-emerald-200 rounded-lg text-[12px] font-bold">
                        <button onclick="checkMember()"
                                class="bg-emerald-600 text-white px-4 rounded-lg font-black text-[10px]">
                            CEK
                        </button>
                    </div>

                    <div id="member-info"
                         class="hidden text-[10px] font-bold text-emerald-700 bg-white p-2 rounded-lg border border-emerald-100">
                        <p id="m-nama-display"></p>
                        <p id="m-poin-display" class="text-emerald-600"></p>
                        <button id="btn-voucher" onclick="useVoucher()"
                                class="mt-2 w-full py-2 bg-orange-500 text-white rounded font-black text-[10px]">
                            TUKAR POIN
                        </button>
                    </div>
                </div>

                <!-- CART -->
                <div class="bg-white rounded-xl p-2 border-2 border-slate-200 min-h-[150px]">
                    <p class="text-[9px] font-black text-slate-400 mb-2 uppercase italic border-b pb-1 text-center">
                        Keranjang Belanja
                    </p>
                    <div id="cart-list" class="space-y-1"></div>
                </div>

            </div>

            <!-- TOTAL -->
            <div class="sticky-bottom p-4">
                <div class="flex justify-between items-center mb-1 text-slate-500">
                    <span class="font-bold text-[10px]">SUBTOTAL</span>
                    <span id="v-subtotal" class="font-bold text-[11px]">Rp 0</span>
                </div>
                <div class="flex justify-between items-center mb-2 text-orange-600">
                    <span class="font-bold text-[10px]">POTONGAN POIN</span>
                    <span id="v-discount" class="font-bold text-[11px]">- Rp 0</span>
                </div>
                <div class="flex justify-between items-center mb-3 text-[#1B4332]">
                    <span class="font-black text-[12px]">TOTAL AKHIR</span>
                    <span id="v-total" class="text-3xl font-black">Rp 0</span>
                </div>
                <div class="flex gap-2">
                    <select id="i-mode"
                            class="w-24 p-2 bg-white border-2 border-slate-300 rounded-xl text-[10px] font-black">
                        <option value="CASH">ðŸ’µ CASH</option>
                        <option value="QRIS">ðŸ“± QRIS</option>
                    </select>
                    <button onclick="submitOrder()" id="btn-order"
                            class="flex-1 bg-[#1B4332] text-white py-4 rounded-2xl font-black text-[14px] shadow-lg active:scale-95">
                        BAYAR & CETAK
                    </button>
                </div>
            </div>

        </div>
    </div>
</div>

<!-- ================= SCRIPT ASLI TANPA PERUBAHAN ================= -->
<script>
/* SELURUH SCRIPT KAMU TETAP PERSIS SEPERTI YANG KAMU KIRIM */
</script>

</body>
</html>
